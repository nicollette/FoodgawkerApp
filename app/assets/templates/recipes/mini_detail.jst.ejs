<div class="col-sm-4" data-recipe-id="<%= recipe.id %>">
  <center><h4><%= recipe.get("title").toUpperCase() %></h4></center>
  <img class="img-circle small" src="<%= recipe.get('photo_url')%>">
  <p><%= recipe.get("description")%></p>
  
  <% var favorites = recipe.get("favorites") %>
  <% var currUser = FoodgawkerApp.Data.currentUser %>
  
  
  <% if(currUser.id) { %>
    <% if(favorites && favorites.findWhere({ user_id: currUser.id })) { %>
       <button id="unfavorite" data-recipe-id="<%= recipe.id %>">Unfavorite</button> 
    <% } else { %>
      <button id="favorite" data-recipe-id="<%= recipe.id %>">Favorite</button>
    <% } %>
  <% } else { %>
    <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#signInModal">Favorite</button> 
  <% }%>
</div>